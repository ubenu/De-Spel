<StakeToggle@ToggleButton>
	group: "grp_stake"
	markup: True

<ArticleToggle@ToggleButton>
	group: "grp_article"
	markup: True

<DeSpelRoot>:
	orientation: "vertical"

	ActionBar:
		ActionView:
			ActionPrevious:
				with_previous: False
				title: ""
			ActionOverflow:
				ActionButton:
					text: "Settings"
					on_release: app.open_settings()
					
	ScreenManager:
		id: kivy_screen_manager
		StartScreen:
			name: "start_screen"
		GameScreen:
			name: "game_screen"
			id: game_screen
		AboutScreen:
			name: "about_screen"
			id: about_screen
		AddLocationScreen:
			name: "add_location_screen"
			id: add_location

<StartScreen@Screen>:
	BoxLayout:
		orientation: "vertical"
		padding: root.width * 0.02, root.height * 0.02
		spacing: min(root.width, root.height) * 0.02
		
		Label:
			markup: True
			text: "[b]De Spel[/b]"
			font_size: min(root.height, root.width) / 10
			
		Button:
			text: "Oefenen"
			on_release: app.root.changeScreen(self.text.lower())
			
		Button:
			text: "Spelen"
			on_release: app.root.changeScreen(self.text.lower())
			
		Button:
			text: "Over deze Toep"
			on_release: app.root.changeScreen(self.text.lower())
			

<AboutScreen@Screen>:
	BoxLayout:
		padding: root.width * 0.02, root.height * 0.02
		Label:
			text: app.getText()
			markup: True
			halign: "left"
			font_size: root.height / 20
			text_size: self.width, None 
			center_y: 0.5
			on_ref_press: app.on_ref_press(*args)
			

<GameScreen>:
	ui_articles: blo_articles
	ui_stakes: blo_stakes
	ui_word: lbl_word
	ui_heap_current: lbl_heap_current
	ui_heaps: lbl_heaps
	ui_total: lbl_total
	ui_draw: btn_draw
	ui_go: btn_go
	BoxLayout:
		orientation: "vertical"
		BoxLayout:
			size_hint_y: 1
			Label:
				id: lbl_word
				size_hint_x: 5
				markup: True	
				text: "spel"
				
			Label:
				id: lbl_heap_current
				size_hint_x: 1
				markup: True
				text: "Stapel:\nPlatina"
				
			Button:
				id: btn_draw
				size_hint_x: 1
				markup: True
				disabled: True	
				text: "Nieuw woord"
				on_release: root.on_draw()		

			Button:
				id: btn_go
				size_hint_x: 1
				markup: True
				disabled: True	
				text: "Speel"
				on_release: root.on_go()		

		BoxLayout:
			id: blo_articles
			size_hint_y: 1			
			ArticleToggle:
				name: "De"
				text: "De"
				on_release: root.on_state_changed()

			ArticleToggle:
				name: "Het"
				text: "Het"
				on_release: root.on_state_changed()

		Label:
			size_hint_y: 1
			id: word_text
			text: "Inzet: "

		BoxLayout:
			id: blo_stakes
			size_hint_y: 1
			StakeToggle:
				name: "Zilver"
				text: "Zilver"
				on_release: root.on_state_changed()

			StakeToggle:
				name: "Goud"
				text: "Goud"
				on_release: root.on_state_changed()

			StakeToggle:
				name: "Platina"
				text: "Platina"
				on_release: root.on_state_changed()
				
		BoxLayout:
			size_hint_y: 4
			Label:
				id: lbl_heaps
				markup: True
				align: "left"
				size_hint_x: 3
				text: "Nieuw:\nGezien:\nZilver:\nGoud:\nPlatina:"
			Label:
				id: lbl_total
				markup: True
				size_hint_x: 1
				text: "Aantal punten:\n0"


<ResultPopup>:
	message: message
	close_button: close_button
	size_hint: 0.4, 0.4
	title: "Uitslag"
	title_size: root.height * 0.1
	auto_dismiss: False
	markup: True
	BoxLayout:
		orientation: "vertical"
		padding: root.width * 0.02, root.height * 0.02
		spacing: min(root.width, root.height) * 0.02
		Label:
			id: message
			markup: True
			text: ""
			halign: "center"
			font_size: root.height / 10
			text_size: self.width, None
			center_y: 0.5
		Button:
			id: close_button
			text: "Sluiten"
			size_hint: 1, None
			height: root.height /8
			on_release: root.dismiss()
		
				
<AddLocationScreen>:
	search_input: search_box
	BoxLayout:
		orientation: "vertical"
		BoxLayout:
			height: "40dp"
			size_hint_y: None
			TextInput:
				id: search_box
				size_hint_x: 50
				text: "krimpen"
			Button:
				text: "Search"
				size_hint_x: 25
				on_release:
					root.search_location()
			Button:
				text: "Current location"
				size_hint_x: 25
		ListView:
			item_strings: ["Krimpen aan de IJssel", "Krimpen aan de Lek"] 		


